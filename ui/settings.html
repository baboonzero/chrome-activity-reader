<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Activity Reader Settings</title>
    <link rel="icon" href="../assets/icons/icon-v2-32.png" />
    <link rel="stylesheet" href="./activity.css" />
    <style>
      .settings-grid {
        display: grid;
        gap: 12px;
      }

      .settings-card {
        border: 1px solid var(--border);
        border-radius: 16px;
        background: var(--surface);
        padding: 14px;
        display: grid;
        gap: 10px;
      }

      .settings-row {
        display: grid;
        gap: 6px;
      }

      .inline {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      textarea,
      select {
        min-height: 40px;
        border-radius: 12px;
        border: 1px solid var(--border);
        padding: 9px 12px;
        color: var(--ink);
        font: inherit;
      }

      textarea {
        background: rgba(0, 0, 0, 0.12);
      }

      select {
        appearance: none;
        padding-right: 34px;
        background-repeat: no-repeat;
        background-position:
          calc(100% - 17px) calc(50% - 2px),
          calc(100% - 12px) calc(50% - 2px);
        background-size: 5px 5px, 5px 5px;
      }

      body[data-theme="dark"] select {
        color: #ecf2ff;
        background-color: #121f3f;
        background-image:
          linear-gradient(45deg, transparent 50%, #97a6cb 50%),
          linear-gradient(135deg, #97a6cb 50%, transparent 50%);
      }

      body[data-theme="dark"] select option {
        color: #ecf2ff;
        background: #121f3f;
      }

      body[data-theme="light"] textarea {
        background: rgba(255, 255, 255, 0.86);
      }

      body[data-theme="light"] select {
        color: #0d1531;
        background-color: #ffffff;
        background-image:
          linear-gradient(45deg, transparent 50%, #4f5a7f 50%),
          linear-gradient(135deg, #4f5a7f 50%, transparent 50%);
      }

      body[data-theme="light"] select option {
        color: #0d1531;
        background: #ffffff;
      }

      textarea {
        min-height: 140px;
        resize: vertical;
      }

      .hint {
        margin: 0;
        color: var(--ink-soft);
        font-size: 0.88rem;
      }

      .action-row {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }

      .status {
        margin: 0;
        color: var(--ink-soft);
        font-size: 0.88rem;
      }
    </style>
  </head>
  <body data-surface="full" data-theme="dark">
    <main class="shell">
      <header class="hero">
        <div class="brand">
          <div class="brand-mark" aria-hidden="true">
            <img src="../assets/icons/icon-v2-48.png" alt="" />
          </div>
          <div>
            <h1>Settings</h1>
            <p class="subtitle">Tune privacy, exclusions, and appearance.</p>
          </div>
        </div>
        <div class="hero-actions">
          <button id="open-dashboard" type="button" class="btn ghost">Dashboard</button>
          <button id="open-side-panel" type="button" class="btn ghost">Open Side Panel</button>
        </div>
      </header>

      <section class="settings-grid">
        <article class="settings-card">
          <div class="settings-row">
            <label class="inline" for="paused">
              <input id="paused" type="checkbox" />
              <span>Pause tracking</span>
            </label>
            <p class="hint">No new focus activity is recorded while paused.</p>
          </div>

          <div class="settings-row">
            <label for="theme">Theme</label>
            <select id="theme">
              <option value="dark">Dark (default)</option>
              <option value="light">Light</option>
            </select>
            <p class="hint">One shared theme applies to both side panel and full dashboard.</p>
          </div>

          <div class="settings-row">
            <p class="hint">
              Meaningful threshold: <strong>&gt; 10s focused time</strong>
            </p>
            <p class="hint">Retention: <strong id="retention-days">30</strong> days (default).</p>
          </div>
        </article>

        <article class="settings-card">
          <div class="settings-row">
            <label for="excluded-domains">Excluded domains (one per line)</label>
            <textarea
              id="excluded-domains"
              placeholder="example.com&#10;mail.google.com&#10;internal.company.com"
            ></textarea>
            <p class="hint">Matching domains and subdomains are excluded from tracking.</p>
          </div>

          <div class="action-row">
            <button id="save" type="button" class="btn primary">Save Settings</button>
          </div>
          <p id="status" class="status"></p>
        </article>
      </section>
    </main>

    <script type="module" src="./settings.js"></script>
  </body>
</html>
